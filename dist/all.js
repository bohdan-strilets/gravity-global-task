const refs={buttonClick:document.querySelector("[data-button-open]"),value:document.querySelector("[data-value]"),buttonReset:document.querySelector("[data-button-reset]")};let numberOfClicks=0;const LOCALSTORAGE_KEY="number-of-clicks",setLocalStarage=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},getLocalStarage=e=>{try{numberOfClicks=JSON.parse(localStorage.getItem(e))}catch(e){console.log(e)}},renderMarkup=e=>{refs.value.textContent=e},addClick=(getLocalStarage(LOCALSTORAGE_KEY),()=>{numberOfClicks+=1,setLocalStarage(LOCALSTORAGE_KEY,numberOfClicks),renderMarkup(numberOfClicks),5<=numberOfClicks&&refs.buttonReset.classList.remove("is-hidden")}),clearClickCount=(refs.buttonClick.addEventListener("click",addClick),()=>{numberOfClicks=0,renderMarkup(0),refs.buttonReset.classList.add("is-hidden")}),refs=(refs.buttonReset.addEventListener("click",clearClickCount),{backdop:document.querySelector("[data-backdrop]"),buttonClose:document.querySelector("[data-button-close]"),buttonOpen:document.querySelector("[data-button-open]")}),openModal=()=>{refs.backdop.classList.remove("is-hidden"),window.addEventListener("keydown",pressEscButton)},closeModal=()=>{refs.backdop.classList.add("is-hidden"),window.removeEventListener("keydown",pressEscButton)},backdropClick=(refs.buttonOpen.addEventListener("click",openModal),refs.buttonClose.addEventListener("click",closeModal),e=>{e.target===e.currentTarget&&closeModal()}),pressEscButton=(refs.backdop.addEventListener("click",backdropClick),e=>{"Escape"===e.code&&closeModal()});